# Vuex ORM

[[toc]]

## Introduction To The API

You might be surprised by how much value vuex-orm gives us out of the box!

Here's a quick run-through the vuex-orm API.

<iframe width="560" height="315" src="https://www.youtube.com/embed/D0bOiA7uxZI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Getting Started

Let's setup a new vue project, and get up and running with vuex-orm

<iframe width="560" height="315" src="https://www.youtube.com/embed/CYJH_a7lEak" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: One To One

Now that we know how to register vuex-orm classes, let's go ahead and define our first relationship, "**one to one**"!

<iframe width="560" height="315" src="https://www.youtube.com/embed/smmLJwb87VM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: One To Many

In this video, we'll create two **one to many** relationships.

- A **User** has many **Lists**
- A **List** has many **Items**

<iframe width="560" height="315" src="https://www.youtube.com/embed/wd0BMv8Isq4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: Has Many By

The **Has Many By** is kinda like the **One To Many** relationship.

The difference is that the parent model holds *an array of ids*. These *ids* are used to identify the models children.

<iframe width="560" height="315" src="https://www.youtube.com/embed/QyKAqw7QMMI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Building The Todo App

We've come this far, and still haven't built the **todo app** :scream:...

So that's what we'll do in this video :blush:

<iframe width="560" height="315" src="https://www.youtube.com/embed/bdd8LCGNzL0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: Has Many Through

Sometimes you may need to find distant data.

Imagine having a user, that has many lists, and items within those lists. Now, you just want to grab all of the users items, perhaps to make a kind of *super list*.

That's why we have this **special** relationship.

It is the joiner of souls. The link between the earth and the stars. The bridger of gaps.

It is the **Has Many Through** relationship :heart:

<iframe width="560" height="315" src="https://www.youtube.com/embed/R-rpc8BJGuY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: Many To Many (EXPLAINED)

Time to spice things up a little bit! For the **Many To Many** relationship, we're gonna need what's called a **pivot table**.

Pivot tables have one purpose in life... To **form a relationship between two models!**

This is probably the second most complicated relationship we'll be exploring in this series, so **take the time to make sure it all makes sense**.

<iframe width="560" height="315" src="https://www.youtube.com/embed/Vsn4ND1pT4o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: Many To Many

What's that? You think you're ready to implement a **Many To Many** relationship in code using vuex-orm?

Hmmm, I don't know... It's pretty hard...

Are you sure you wouldn't rather just take a break? This whole coding thing is far too overwhelming right?...

Right?

**WRONG!!!**

That was a test! Did you pass?

*Good*

Now let's get to work. Watch the video below, level up and keep at it!

<iframe width="560" height="315" src="https://www.youtube.com/embed/pTgp2y58iV8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: One To One Polymorphic (EXPLAINED)

Things can start to feel a little complicated when **polymorphism** is introduced into the mix.

But like most things, when you take it **one step at a time**, it's really quite simple at its core!

So let's explore the **one to one polymorphic relationship** and remember...

*Use that pause button!*

<iframe width="560" height="315" src="https://www.youtube.com/embed/BbaFw7CjJZE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: One To One Polymorphic

I have good news...

You're ready to explore **one to one polymorphic relationships** in vuex-orm!!!

(this is the part where you cheer with excitement) :tada:

So grab a coffee, crack your fingers and let's **dive. right. in!**

<iframe width="560" height="315" src="https://www.youtube.com/embed/sWo4df-jNlw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: One To Many Polymorphic (EXPLAINED)

How many ones could a **one many** one if a **one many** could **many one**?

I don't know :flushed:

<iframe width="560" height="315" src="https://www.youtube.com/embed/5fbVR48YvJY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: One To Many Polymorphic

Close your eyes and take a *nice. deep. breath.*

Now put your hand on your mouse, and move the pointer to the video below.

click on the **play** icon.

Now stay calm, and learn yourself some **One To Many Polymorphic Relationship** skills :pray:

<iframe width="560" height="315" src="https://www.youtube.com/embed/KpwTPlzHn7U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: Many To Many Polymorphic (EXPLAINED)

What's batman got to do with a **Many To Many Polymorphic** Relationship?

Honestly... not a lot.

**YOU GOT THIS!**

<iframe width="560" height="315" src="https://www.youtube.com/embed/lN4SjTOzlYs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Relationships: Many To Many Polymorphic

You now have all the foundations you need to tackle **Many To Many Polymorphic** Relationships!

**YOU GOT THIS!**

<iframe width="560" height="315" src="https://www.youtube.com/embed/b9PngJj_rYs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Accessors and Mutators

Sometimes, you're data is ungly or not melding like it should.

Data can be persnickety like that sometimes.

Eh, no worries. We'll tame it with some **Accessors** and **Mutators**!

<iframe width="560" height="315" src="https://www.youtube.com/embed/t8qzZ06DLns" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Advanced Queries

You think you're sooo smart with your accessors, and your mutators, and your relationships and your pretty face!

Alright hot shot... let's see how you handle **Advanced Queries!!!**

<iframe width="560" height="315" src="https://www.youtube.com/embed/RbggymeACFo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Advanced Relationship Queries (SETUP)

Look. You can't go around **making advanced relationship queries** when you don't even have any data!
That's. Just. Silly.

So let's add some data in this video :smile:

<iframe width="560" height="315" src="https://www.youtube.com/embed/9m8R1SBDkDE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### Resources
  - [Gist with JSON data and updated models](https://gist.github.com/ldiebold/7a1d15ae4ed0e7cbeff1f4bc15ee364a)

## Advanced Relationship Queries

Boooo! You'll never get through this video.

It's the hardest one yet.

... just kidding, *I BELIEVE IN YOU!*

<iframe width="560" height="315" src="https://www.youtube.com/embed/wYSX6dIub0c" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Single Table Inheritance EXPLAINED

What do you get, when you cross a **Single** salami and a **Table**?

...

The beginnings of a terrible joke.

Here's a video on **Single Table Inheritance**

<iframe width="560" height="315" src="https://www.youtube.com/embed/RvMgR8JgKwc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## Single Table Inheritance

**Single Table Inheritance** is one of my favourite features of vuex-orm because...
  - It **cleans up your code** so you don't end up having to repeat yourself
  - Allows **different models** to reference **the same table**
  - It makes your code a **$h^@&!** load easier to maintain **at scale**!

So dive in to the video below (and push through the part about **cycles**)... it will be worth it!

<iframe width="560" height="315" src="https://www.youtube.com/embed/-yoKq3j-pCQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

### resources
[Michel Weststrate's article on fixing circular dependencies](https://medium.com/visual-development/how-to-fix-nasty-circular-dependency-issues-once-and-for-all-in-javascript-typescript-a04c987cf0de)